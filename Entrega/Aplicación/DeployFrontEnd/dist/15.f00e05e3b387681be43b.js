(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{mJDa:function(t,e,o){"use strict";o.r(e);var i=o("ofXK"),n=o("tyNb"),r=o("0wIc"),a=o("iBw7"),s=o("fXoL"),d=o("PVMf"),u=function(){function t(t,e,o){this.route=t,this.videoContentService=e,this.customToastr=o,this.videoContents=[]}return t.prototype.ngOnInit=function(){this.playlistId=Number(this.route.snapshot.paramMap.get("playlistId")),this.getVideoContents(this.playlistId)},t.prototype.getVideoContents=function(t){var e=this;this.videoContentService.getVideoContentByPlaylist(t).subscribe((function(t){e.videoContents=t}),(function(t){e.customToastr.setError(t)}))},t.prototype.updateVideos=function(){this.getVideoContents(this.playlistId)},t.\u0275fac=function(e){return new(e||t)(s.Jb(n.a),s.Jb(r.a),s.Jb(a.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-video-content-dashboard"]],decls:10,vars:1,consts:[[1,"content"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"title","p-2"],[3,"videos","updateVideos"]],template:function(t,e){1&t&&(s.Ob(0,"div",0),s.Ob(1,"div",1),s.Ob(2,"div",2),s.Ob(3,"div",3),s.Ob(4,"div",4),s.Ob(5,"div",1),s.Ob(6,"div"),s.Ob(7,"h2",5),s.Dc(8,"Video Contents of Playlist"),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(9,"app-video-content-list",6),s.Vb("updateVideos",(function(){return e.updateVideos()})),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t&&(s.xb(9),s.fc("videos",e.videoContents))},directives:[d.a],styles:[""]}),t}(),c=o("uNdA"),l=o("3Pt+"),f=function(){function t(t,e,o){this.videoContentService=t,this.customToastr=e,this.fb=o,this.create=!1,this.newPlaylist=!1}return t.prototype.ngOnInit=function(){this.initializeVideoContentForm()},t.prototype.initializeVideoContentForm=function(){this.playableContentForm.submited=!1,this.createVideoContentForm=this.fb.group({name:new l.e(null,l.t.required),creatorName:new l.e(null,l.t.required),duration:new l.e(null,l.t.required),videoUrl:new l.e(null,[l.t.pattern(/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i),l.t.required]),categories:this.fb.array([],l.t.required),playlists:this.fb.array([])}),this.selectedPlaylist=this.fb.group({})},t.prototype.createVideoContent=function(){var t=this;this.playableContentForm.transformTime(),this.playableContentForm.submited=!0,this.createVideoContentForm.invalid?this.customToastr.setError("Please verify the entered data."):this.videoContentService.add(this.createVideoContentForm.value).subscribe((function(e){t.customToastr.setSuccess("The video content was created sucessfully"),t.playableContentForm.resetForm()}),(function(e){t.customToastr.setError(e)}))},Object.defineProperty(t.prototype,"playlists",{get:function(){return this.createVideoContentForm.get("playlists")},enumerable:!1,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(s.Jb(r.a),s.Jb(a.a),s.Jb(l.d))},t.\u0275cmp=s.Db({type:t,selectors:[["app-create-video-content"]],viewQuery:function(t,e){var o;1&t&&s.yc(c.a,!0),2&t&&s.oc(o=s.Wb())&&(e.playableContentForm=o.first)},decls:12,vars:3,consts:[[3,"formGroup"],[1,"content"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header"],[1,"title"],[3,"parentForm","isAudio"],[1,"card-footer"],["type","submit",1,"btn","btn-fill","btn-danger",3,"click"]],template:function(t,e){1&t&&(s.Ob(0,"form",0),s.Ob(1,"div",1),s.Ob(2,"div",2),s.Ob(3,"div",3),s.Ob(4,"div",4),s.Ob(5,"div",5),s.Ob(6,"h2",6),s.Dc(7,"Create video content"),s.Nb(),s.Nb(),s.Kb(8,"app-playable-content-form",7),s.Ob(9,"div",8),s.Ob(10,"button",9),s.Vb("click",(function(){return e.createVideoContent()})),s.Dc(11,"Create video content"),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t&&(s.fc("formGroup",e.createVideoContentForm),s.xb(8),s.fc("parentForm",e.createVideoContentForm)("isAudio",!1))},directives:[l.v,l.o,l.h,c.a],styles:[""]}),t}(),b=o("Tk1w"),p=[{path:"edit/:videoContentId",component:function(){function t(t,e,o,i,n){this.videoContentService=t,this.fb=e,this.route=o,this.router=i,this.customToastr=n,this.editingVideoContent={},this.newPlaylist=!1}return t.prototype.ngOnInit=function(){this.videoContentId=Number(this.route.snapshot.paramMap.get("videoContentId")),this.getVideoContentInfo(this.videoContentId),this.initializeVideoContentForm()},t.prototype.getVideoContentInfo=function(t){var e=this;this.videoContentService.getVideoContentById(t).subscribe((function(t){e.editingVideoContent=t,e.updateForm(),e.updateMultiSelects()}),(function(t){e.router.navigateByUrl("categories"),e.customToastr.setError(t)}))},t.prototype.initializeVideoContentForm=function(){this.editVideoContentForm=this.fb.group({id:new l.e(this.videoContentId,l.t.required),name:new l.e(null,l.t.required),creatorName:new l.e(null,l.t.required),duration:new l.e(null,l.t.required),videoUrl:new l.e(null,[l.t.pattern(/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i),l.t.required]),categories:this.fb.array([],l.t.required),playlists:this.fb.array([])}),this.selectedPlaylist=this.fb.group({})},Object.defineProperty(t.prototype,"categories",{get:function(){return this.editVideoContentForm.get("categories")},enumerable:!1,configurable:!0}),t.prototype.updateForm=function(){this.editVideoContentForm.get("name").setValue(this.editingVideoContent.name),this.editVideoContentForm.get("creatorName").setValue(this.editingVideoContent.creatorName),this.editVideoContentForm.get("videoUrl").setValue(this.editingVideoContent.videoUrl),this.editVideoContentForm.get("duration").setValue(this.toDate(this.editingVideoContent.duration))},t.prototype.updateMultiSelects=function(){var t=this;this.editingVideoContent.categories.forEach((function(e){var o=t.fb.group({id:e.id,name:e.name});t.playableContentForm.selectedCategory=o,t.categories.push(o),t.playableContentForm.originalCategories.push({id:e.id,itemName:e.name})})),this.editingVideoContent.playlists.forEach((function(e){var o=t.fb.group({id:e.id,name:e.name,description:e.description});t.playlists.push(o),t.playableContentForm.originalPlaylists.push({id:e.id,itemName:e.name})}))},t.prototype.toDate=function(t){var e=new Date;return e.setHours(t.substr(0,t.indexOf(":"))),e.setMinutes(t.substr(3,t.indexOf(":"))),e.setSeconds(t.substr(6,t.indexOf(":"))),e},t.prototype.updateVideoContent=function(){var t=this;this.playableContentForm.transformTime(),this.playableContentForm.submited=!0,this.editVideoContentForm.invalid?this.customToastr.setError("Please verify the entered data."):this.videoContentService.update(this.editVideoContentForm.value,this.videoContentId).subscribe((function(e){t.customToastr.setSuccess("The video content was successfully updated"),t.playableContentForm.resetForm()}),(function(e){t.customToastr.setError(e)}))},Object.defineProperty(t.prototype,"playlists",{get:function(){return this.editVideoContentForm.get("playlists")},enumerable:!1,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(s.Jb(r.a),s.Jb(l.d),s.Jb(n.a),s.Jb(n.b),s.Jb(a.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-edit-video-content"]],viewQuery:function(t,e){var o;1&t&&s.yc(c.a,!0),2&t&&s.oc(o=s.Wb())&&(e.playableContentForm=o.first)},decls:12,vars:3,consts:[[3,"formGroup"],[1,"content"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header"],[1,"title"],[3,"parentForm","isAudio"],[1,"card-footer"],["type","submit",1,"btn","btn-fill","btn-danger",3,"click"]],template:function(t,e){1&t&&(s.Ob(0,"form",0),s.Ob(1,"div",1),s.Ob(2,"div",2),s.Ob(3,"div",3),s.Ob(4,"div",4),s.Ob(5,"div",5),s.Ob(6,"h2",6),s.Dc(7,"Edit video content"),s.Nb(),s.Nb(),s.Kb(8,"app-playable-content-form",7),s.Ob(9,"div",8),s.Ob(10,"button",9),s.Vb("click",(function(){return e.updateVideoContent()})),s.Dc(11,"Edit audio content"),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t&&(s.fc("formGroup",e.editVideoContentForm),s.xb(8),s.fc("parentForm",e.editVideoContentForm)("isAudio",!1))},directives:[l.v,l.o,l.h,c.a],styles:[""]}),t}(),canActivate:[b.a]},{path:":categoryId/:playlistId",component:u},{path:"",component:f,canActivate:[b.a]}],m=o("q8Lv");o.d(e,"VideoContentModule",(function(){return h}));var h=function(){function t(){}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[i.c,l.s.withConfig({warnOnNgModelWithFormControl:"never"}),l.j,n.f.forChild(p),m.a]]}),t}()}}]);