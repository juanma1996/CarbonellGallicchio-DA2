(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{qoy4:function(t,e,o){"use strict";o.r(e);var i=o("ofXK"),s=o("tyNb"),r=o("wpAv"),n=o("mrSG"),c=o("9Z1F"),l=o("AytR"),a=o("Do2H"),b=o("fXoL"),h=o("tk/3"),d=function(t){function e(e){var o=t.call(this)||this;return o.http=e,o.uri=l.a.baseURL+"psychologists",o}return Object(n.d)(e,t),e.prototype.add=function(t){return this.http.post(this.uri,t,{headers:this.headers}).pipe(Object(c.a)(this.handleError))},e.prototype.get=function(){return this.http.get(this.uri,{headers:this.headers}).pipe(Object(c.a)(this.handleError))},e.prototype.getPsychologist=function(t){return this.http.get(this.uri+"/"+t,{headers:this.headers}).pipe(Object(c.a)(this.handleError))},e.prototype.update=function(t,e){return this.http.put(this.uri+"/"+e,t,{headers:this.headers}).pipe(Object(c.a)(this.handleError))},e.prototype.delete=function(t){return this.http.delete(this.uri+"/"+t,{headers:this.headers}).pipe(Object(c.a)(this.handleError))},e.\u0275fac=function(t){return new(t||e)(b.Sb(h.b))},e.\u0275prov=b.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(a.a),u=o("3Pt+"),p=o("iBw7"),g=o("ecX2");function m(t,e){1&t&&(b.Ob(0,"label",12),b.Dc(1,"Please enter a valid name."),b.Nb())}function f(t,e){1&t&&(b.Ob(0,"label",12),b.Dc(1," Please select the consultation mode."),b.Nb())}function y(t,e){1&t&&(b.Ob(0,"label",12),b.Dc(1,"Please enter a valid direction."),b.Nb())}function v(t,e){1&t&&(b.Ob(0,"label",12),b.Dc(1," Please select exactly three problematics on wich is expert."),b.Nb())}function N(t,e){1&t&&(b.Ob(0,"label",12),b.Dc(1," Please select the fee."),b.Nb())}var O=function(t){return{"has-danger":t}},F=function(){return{standalone:!0}},P=function(){return{singleSelection:!0,text:"Consultation mode",classes:"selectpicker btn-danger",lazyLoading:!0,maxHeight:100}},S=function(){return{singleSelection:!1,text:"Problematics",enableSearchFilter:!1,classes:"selectpicker btn-danger",limitSelection:3}},w=function(){return{singleSelection:!0,text:"Fee",classes:"selectpicker btn-danger",lazyLoading:!0,maxHeight:100}},D=function(){function t(t,e,o,i){this.problematicsService=t,this.psychologistService=e,this.customToastr=o,this.fb=i,this.submited=!1,this.originalConsultationMode=[],this.originalProblematics=[],this.originalFee=[],this.consultationModes=[{id:"1",itemName:"Presencial"},{id:"2",itemName:"Virtual"}],this.fees=[{id:"1",itemName:500},{id:"2",itemName:750},{id:"3",itemName:1e3},{id:"4",itemName:2e3}],this.problematicsData=[],this.problematics=[]}return t.prototype.ngOnInit=function(){var t=this;this.initializePsychologistForm(),this.problematicsService.get().subscribe((function(e){t.problematics=e,t.mapProblematics(t.problematics)}),(function(e){t.customToastr.setError(e.error)}))},t.prototype.initializePsychologistForm=function(){this.psychologistForm=this.parentForm},t.prototype.mapProblematics=function(t){var e=this;this.problematics.forEach((function(t){e.problematicsData.push({id:t.id,itemName:t.name})}))},Object.defineProperty(t.prototype,"psychologistProblematics",{get:function(){return this.psychologistForm.get("problematics")},enumerable:!1,configurable:!0}),t.prototype.problematicSelect=function(t){this.selectedProblematic=this.fb.group({id:t.id,name:t.itemName}),this.psychologistProblematics.push(this.selectedProblematic)},t.prototype.problematicDeSelect=function(t){var e=this.psychologistProblematics.value.findIndex((function(e){return e.id===t.id}));this.psychologistProblematics.removeAt(e)},Object.defineProperty(t.prototype,"consultationMode",{get:function(){return this.psychologistForm.get("consultationMode")},enumerable:!1,configurable:!0}),t.prototype.consultationModeSelect=function(t){this.consultationMode.setValue(t.itemName)},t.prototype.consultationModeDeSelect=function(){this.consultationMode.reset()},Object.defineProperty(t.prototype,"fee",{get:function(){return this.psychologistForm.get("fee")},enumerable:!1,configurable:!0}),t.prototype.feeSelect=function(t){this.fee.setValue(t.itemName)},t.prototype.feeDeSelect=function(){this.fee.reset()},t.prototype.resetForm=function(){for(this.submited=!1,this.psychologistForm.reset(),this.originalConsultationMode=[],this.originalFee=[],this.originalProblematics=[];this.psychologistProblematics.value.length;)this.psychologistProblematics.removeAt(0)},t.\u0275fac=function(e){return new(e||t)(b.Jb(r.a),b.Jb(d),b.Jb(p.a),b.Jb(u.d))},t.\u0275cmp=b.Db({type:t,selectors:[["app-psychologist-form"]],inputs:{parentForm:"parentForm"},decls:34,vars:43,consts:[[1,"card-body"],[1,"row"],[1,"col-md-6","pr-md-1",3,"formGroup"],[1,"form-group","has-label",3,"ngClass"],["placeholder","Mike","type","text","formControlName","name",1,"form-control"],["class","error",4,"ngIf"],[1,"col-md-6","pl-md-1",3,"formGroup"],["for","exampleInputEmail1"],["name","psychologistConsultationMode",3,"data","ngModel","ngModelOptions","settings","onSelect","onDeSelect"],["placeholder","Rio Negro 8156","type","text","formControlName","direction",1,"form-control"],["name","psychologistProblematics",3,"data","ngModel","ngModelOptions","settings","onSelect","onDeSelect"],["name","psychologistFee",3,"data","ngModel","ngModelOptions","settings","onSelect","onDeSelect"],[1,"error"]],template:function(t,e){1&t&&(b.Ob(0,"div",0),b.Ob(1,"div",1),b.Ob(2,"div",2),b.Ob(3,"div",3),b.Ob(4,"label"),b.Dc(5," Name "),b.Nb(),b.Kb(6,"input",4),b.Bc(7,m,2,0,"label",5),b.Nb(),b.Nb(),b.Ob(8,"div",6),b.Ob(9,"div",3),b.Ob(10,"label",7),b.Dc(11," Consultation mode "),b.Nb(),b.Ob(12,"angular2-multiselect",8),b.Vb("onSelect",(function(t){return e.consultationModeSelect(t)}))("onDeSelect",(function(){return e.consultationModeDeSelect()})),b.Nb(),b.Bc(13,f,2,0,"label",5),b.Nb(),b.Nb(),b.Nb(),b.Ob(14,"div",1),b.Ob(15,"div",2),b.Ob(16,"div",3),b.Ob(17,"label"),b.Dc(18," Direction "),b.Nb(),b.Kb(19,"input",9),b.Bc(20,y,2,0,"label",5),b.Nb(),b.Nb(),b.Ob(21,"div",6),b.Ob(22,"div",3),b.Ob(23,"label"),b.Dc(24," Problematics "),b.Nb(),b.Ob(25,"angular2-multiselect",10),b.Vb("onSelect",(function(t){return e.problematicSelect(t)}))("onDeSelect",(function(t){return e.problematicDeSelect(t)})),b.Nb(),b.Bc(26,v,2,0,"label",5),b.Nb(),b.Nb(),b.Nb(),b.Ob(27,"div",1),b.Ob(28,"div",2),b.Ob(29,"div",3),b.Ob(30,"label",7),b.Dc(31," Fee "),b.Nb(),b.Ob(32,"angular2-multiselect",11),b.Vb("onSelect",(function(t){return e.feeSelect(t)}))("onDeSelect",(function(){return e.feeDeSelect()})),b.Nb(),b.Bc(33,N,2,0,"label",5),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&t&&(b.xb(2),b.fc("formGroup",e.psychologistForm),b.xb(1),b.fc("ngClass",b.jc(27,O,!e.psychologistForm.get("name").valid&&(e.psychologistForm.get("name").touched||e.submited))),b.xb(4),b.fc("ngIf",!e.psychologistForm.get("name").valid&&(e.psychologistForm.get("name").touched||e.submited)),b.xb(1),b.fc("formGroup",e.psychologistForm),b.xb(1),b.fc("ngClass",b.jc(29,O,!e.psychologistForm.get("consultationMode").valid)),b.xb(3),b.fc("data",e.consultationModes)("ngModel",e.originalConsultationMode)("ngModelOptions",b.ic(31,F))("settings",b.ic(32,P)),b.xb(1),b.fc("ngIf",!e.psychologistForm.get("consultationMode").valid),b.xb(2),b.fc("formGroup",e.psychologistForm),b.xb(1),b.fc("ngClass",b.jc(33,O,!e.psychologistForm.get("direction").valid&&(e.psychologistForm.get("direction").touched||e.submited))),b.xb(4),b.fc("ngIf",!e.psychologistForm.get("direction").valid&&(e.psychologistForm.get("direction").touched||e.submited)),b.xb(1),b.fc("formGroup",e.psychologistForm),b.xb(1),b.fc("ngClass",b.jc(35,O,!e.psychologistForm.get("problematics").valid)),b.xb(3),b.fc("data",e.problematicsData)("ngModel",e.originalProblematics)("ngModelOptions",b.ic(37,F))("settings",b.ic(38,S)),b.xb(1),b.fc("ngIf",!e.psychologistForm.get("problematics").valid),b.xb(2),b.fc("formGroup",e.psychologistForm),b.xb(1),b.fc("ngClass",b.jc(39,O,!e.psychologistForm.get("fee").valid)),b.xb(3),b.fc("data",e.fees)("ngModel",e.originalFee)("ngModelOptions",b.ic(41,F))("settings",b.ic(42,w)),b.xb(1),b.fc("ngIf",!e.psychologistForm.get("fee").valid))},directives:[u.o,u.h,i.i,u.c,u.n,u.f,i.k,g.a,u.q],styles:[""]}),t}(),M=function(){function t(t,e,o,i){this.problematicsService=t,this.psychologistService=e,this.customToastr=o,this.fb=i,this.problematicsData=[],this.problematics=[]}return t.prototype.ngOnInit=function(){this.initializePsychologistForm()},t.prototype.initializePsychologistForm=function(){this.registerPsychologistForm=this.fb.group({name:new u.e(null,u.t.required),consultationMode:new u.e(null,u.t.required),fee:new u.e(null,u.t.required),direction:new u.e(null,u.t.required),problematics:this.fb.array([],[u.t.required,u.t.minLength(3)])})},t.prototype.registerPsychologist=function(){var t=this;this.psychologistForm.submited=!0,this.registerPsychologistForm.invalid?this.customToastr.setError("Please verify the entered data."):this.psychologistService.add(this.registerPsychologistForm.value).subscribe((function(e){t.customToastr.setSuccess("The psychologist was successfully registered"),t.psychologistForm.resetForm()}))},t.\u0275fac=function(e){return new(e||t)(b.Jb(r.a),b.Jb(d),b.Jb(p.a),b.Jb(u.d))},t.\u0275cmp=b.Db({type:t,selectors:[["app-register-psychologist"]],viewQuery:function(t,e){var o;1&t&&b.yc(D,!0),2&t&&b.oc(o=b.Wb())&&(e.psychologistForm=o.first)},decls:12,vars:2,consts:[[3,"formGroup"],[1,"content"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header"],[1,"title"],[3,"parentForm"],[1,"card-footer"],["type","submit",1,"btn","btn-fill","btn-danger",3,"click"]],template:function(t,e){1&t&&(b.Ob(0,"form",0),b.Ob(1,"div",1),b.Ob(2,"div",2),b.Ob(3,"div",3),b.Ob(4,"div",4),b.Ob(5,"div",5),b.Ob(6,"h2",6),b.Dc(7,"Register psychologist"),b.Nb(),b.Nb(),b.Kb(8,"app-psychologist-form",7),b.Ob(9,"div",8),b.Ob(10,"button",9),b.Vb("click",(function(){return e.registerPsychologist()})),b.Dc(11,"Register psychologist"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&t&&(b.fc("formGroup",e.registerPsychologistForm),b.xb(8),b.fc("parentForm",e.registerPsychologistForm))},directives:[u.v,u.o,u.h,D],styles:[""]}),t}(),x=o("kh9p"),I=o("lDzL"),k=o("f07x"),C=function(t){return["/psychologist/edit",t]};function j(t,e){if(1&t){var o=b.Pb();b.Ob(0,"button",22),b.Kb(1,"i",23),b.Nb(),b.Ob(2,"button",24),b.Vb("click",(function(){b.sc(o);var t=e.row;return b.Yb().deleteModal(t.id)})),b.Kb(3,"i",25),b.Nb()}2&t&&b.fc("routerLink",b.jc(1,C,e.row.id))}var J=[{path:"create",component:M},{path:"maintenance",component:function(){function t(t,e,o){this.psychologistService=t,this.customToastr=e,this.alert=o,this.entries=10,this.selected=[],this.psychologists=[]}return t.prototype.ngOnInit=function(){this.getPsychologists()},t.prototype.getPsychologists=function(){var t=this;this.psychologistService.get().subscribe((function(e){t.psychologists=e}),(function(e){t.customToastr.setError(e)}))},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.deleteModal=function(t){this.alert.showAlert("Are you sure you want to delete this psychologist?","I'm sure",this.delete.bind(this,t))},t.prototype.delete=function(t){var e=this;this.psychologistService.delete(t).subscribe((function(t){e.customToastr.setSuccess("The psychologist was successfully deleted"),e.getPsychologists()}),(function(t){e.customToastr.setError(t)}))},t.\u0275fac=function(e){return new(e||t)(b.Jb(d),b.Jb(p.a),b.Jb(x.a))},t.\u0275cmp=b.Db({type:t,selectors:[["app-edit-psychologist-dashboard"]],decls:33,vars:12,consts:[[1,"content"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"float-right"],[1,"title","p-2"],[1,"card-body"],[1,"toolbar"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","10",3,"selected"],["value","25",3,"selected"],["value","50",3,"selected"],["value","-1",3,"selected"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows"],["name","Name"],["name","ConsultationMode"],["name","Option","prop","option",3,"draggable","resizeable"],["ngx-datatable-cell-template",""],["tooltip","Edit","type","button","routerLinkActive","active",1,"btn","btn-link","btn-sm","btn-icon",3,"routerLink"],[1,"tim-icons","icon-pencil"],["tooltip","Delete","type","button",1,"btn","btn-danger","btn-link","btn-sm",3,"click"],[1,"tim-icons","icon-simple-remove"]],template:function(t,e){1&t&&(b.Ob(0,"div",0),b.Ob(1,"div",1),b.Ob(2,"div",2),b.Ob(3,"div",3),b.Ob(4,"div",4),b.Ob(5,"div",1),b.Ob(6,"div",5),b.Ob(7,"h2",6),b.Dc(8,"Psychologists"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(9,"div",3),b.Ob(10,"div",7),b.Kb(11,"div",8),b.Ob(12,"div",9),b.Ob(13,"div",1),b.Ob(14,"div",10),b.Ob(15,"div",11),b.Ob(16,"label"),b.Dc(17," Show "),b.Ob(18,"select",12),b.Vb("change",(function(t){return e.entriesChange(t)})),b.Ob(19,"option",13),b.Dc(20,"10"),b.Nb(),b.Ob(21,"option",14),b.Dc(22,"25"),b.Nb(),b.Ob(23,"option",15),b.Dc(24,"50"),b.Nb(),b.Ob(25,"option",16),b.Dc(26,"All"),b.Nb(),b.Nb(),b.Dc(27," entries "),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(28,"ngx-datatable",17),b.Kb(29,"ngx-datatable-column",18),b.Kb(30,"ngx-datatable-column",19),b.Ob(31,"ngx-datatable-column",20),b.Bc(32,j,4,3,"ng-template",21),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&t&&(b.xb(19),b.fc("selected",10==e.entries),b.xb(2),b.fc("selected",25==e.entries),b.xb(2),b.fc("selected",50==e.entries),b.xb(2),b.fc("selected",-1==e.entries),b.xb(3),b.fc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.psychologists),b.xb(3),b.fc("draggable",!1)("resizeable",!1))},directives:[u.r,u.u,I.c,I.b,I.a,k.a,s.d,s.c],styles:[""]}),t}()},{path:"edit/:psychologistId",component:function(){function t(t,e,o,i,s){this.psychologistService=t,this.route=e,this.fb=o,this.router=i,this.customToastr=s,this.editingPsychologist={}}return t.prototype.ngOnInit=function(){this.psychologistId=Number(this.route.snapshot.paramMap.get("psychologistId")),this.getPsychologistInfo(this.psychologistId),this.initializeForm()},t.prototype.initializeForm=function(){this.editPsychologistForm=this.fb.group({id:new u.e(this.psychologistId),name:new u.e(null,u.t.required),consultationMode:new u.e(null,u.t.required),fee:new u.e(null,u.t.required),direction:new u.e(null,u.t.required),problematics:this.fb.array([],[u.t.required,u.t.minLength(3)])})},t.prototype.getPsychologistInfo=function(t){var e=this;this.psychologistService.getPsychologist(t).subscribe((function(t){e.editingPsychologist=t,e.updateForm(),e.updateMultiSelects()}),(function(t){e.customToastr.setError(t),e.router.navigateByUrl("psychologist/maintenance")}))},t.prototype.updateForm=function(){this.editPsychologistForm.get("name").setValue(this.editingPsychologist.name),this.editPsychologistForm.get("consultationMode").setValue(this.editingPsychologist.consultationMode),this.editPsychologistForm.get("direction").setValue(this.editingPsychologist.direction),this.editPsychologistForm.get("fee").setValue(this.editingPsychologist.fee)},Object.defineProperty(t.prototype,"problematics",{get:function(){return this.editPsychologistForm.get("problematics")},enumerable:!1,configurable:!0}),t.prototype.updateMultiSelects=function(){var t=this,e=[];this.editingPsychologist.problematics.forEach((function(o){e.push({id:o.id,itemName:o.name});var i=t.fb.group({id:o.id,name:o.name});t.problematics.push(i)})),this.psychologistForm.originalProblematics=e,this.psychologistForm.originalConsultationMode="Presencial"==this.editingPsychologist.consultationMode?[{id:"1",itemName:"Presencial"}]:[{id:"2",itemName:"Virtual"}],this.updateFee()},t.prototype.updateFee=function(){this.psychologistForm.originalFee=500==this.editingPsychologist.fee?[{id:"1",itemName:500}]:750==this.editingPsychologist.fee?[{id:"1",itemName:750}]:1e3==this.editingPsychologist.fee?[{id:"1",itemName:1e3}]:[{id:"1",itemName:2e3}]},t.prototype.editPsychologist=function(){var t=this;this.psychologistForm.submited=!0,this.editPsychologistForm.invalid?this.customToastr.setError("Please verify the entered data."):this.psychologistService.update(this.editPsychologistForm.value,this.psychologistId).subscribe((function(e){t.customToastr.setSuccess("The psychologist was successfully updated"),t.psychologistForm.resetForm()}))},t.\u0275fac=function(e){return new(e||t)(b.Jb(d),b.Jb(s.a),b.Jb(u.d),b.Jb(s.b),b.Jb(p.a))},t.\u0275cmp=b.Db({type:t,selectors:[["app-edit-psychologist"]],viewQuery:function(t,e){var o;1&t&&b.yc(D,!0),2&t&&b.oc(o=b.Wb())&&(e.psychologistForm=o.first)},decls:12,vars:2,consts:[[3,"formGroup"],[1,"content"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header"],[1,"title"],[3,"parentForm"],[1,"card-footer"],["type","submit",1,"btn","btn-fill","btn-danger",3,"click"]],template:function(t,e){1&t&&(b.Ob(0,"form",0),b.Ob(1,"div",1),b.Ob(2,"div",2),b.Ob(3,"div",3),b.Ob(4,"div",4),b.Ob(5,"div",5),b.Ob(6,"h2",6),b.Dc(7,"Edit psychologist"),b.Nb(),b.Nb(),b.Kb(8,"app-psychologist-form",7),b.Ob(9,"div",8),b.Ob(10,"button",9),b.Vb("click",(function(){return e.editPsychologist()})),b.Dc(11,"Edit psychologist"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&t&&(b.fc("formGroup",e.editPsychologistForm),b.xb(8),b.fc("parentForm",e.editPsychologistForm))},directives:[u.v,u.o,u.h,D],styles:[""]}),t}()}];o.d(e,"PsychologistModule",(function(){return T}));var T=function(){function t(){}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(e){return new(e||t)},imports:[[i.c,u.j,I.d,k.b.forRoot(),s.f.forChild(J),g.b,u.s.withConfig({warnOnNgModelWithFormControl:"never"})]]}),t}()}}]);