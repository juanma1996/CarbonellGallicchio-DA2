<form [formGroup]="consultationForm">
    <div class=" content">
        <div class=" row">
            <div class=" col-md-8">
                <div class=" card">
                    <div class=" card-header">
                        <h2 class=" title">Consultation</h2>
                    </div>
                    <div class=" card-body">
                        <div class=" row">
                            <div class=" col-md-6 pr-md-1">
                                <div class=" form-group has-label" [ngClass]="{
                                    'has-danger':
                                    !consultationForm.get('problematicId').valid
                                    }">
                                    <label> Problematic </label>
                                    <angular2-multiselect [data]="problematicsData" [ngModel]="selectedProblematic"
                                        [ngModelOptions]="{standalone: true}" [settings]="{
                                        singleSelection: true,
                                        text: 'Problematic',
                                        classes: 'selectpicker btn-danger',
                                        lazyLoading: true,
                                        maxHeight: 100
                                    }" name="problematicConsultation" (onSelect)="problematicSelect($event)"
                                        (onDeSelect)="problematicDeSelect()">
                                    </angular2-multiselect>
                                    <label class="error" *ngIf="!consultationForm.get('problematicId').valid">Please
                                        select
                                        a problematic.</label>
                                </div>
                            </div>
                            <div class=" col-md-6 pl-md-1" formGroupName="pacient">
                                <div class=" form-group has-label" [ngClass]="{
                                    'has-danger':
                                    !consultationForm.controls.pacient.get('name').valid && (consultationForm.controls.pacient.get('name').touched || scheduled)
                                }">
                                    <label> Name </label>
                                    <input class=" form-control" placeholder="Mike" type="text"
                                        formControlName="name" />
                                    <label class="error"
                                        *ngIf="!consultationForm.controls.pacient.get('name').valid && (consultationForm.controls.pacient.get('name').touched || scheduled)">Please
                                        enter a valid name.</label>
                                </div>
                            </div>
                        </div>
                        <div class=" row">
                            <div class=" col-md-6 pr-md-1" formGroupName="pacient">
                                <div class=" form-group has-label" [ngClass]="{
                                    'has-danger':
                                    !consultationForm.controls.pacient.get('surname').valid && (consultationForm.controls.pacient.get('surname').touched || scheduled)
                                }">
                                    <label> Surname </label>
                                    <input class=" form-control" placeholder="Wazauski" type="text"
                                        formControlName="surname" />
                                    <label class="error"
                                        *ngIf="!consultationForm.controls.pacient.get('surname').valid && (consultationForm.controls.pacient.get('surname').touched || scheduled)">Please
                                        enter a valid surname.</label>
                                </div>
                            </div>
                            <div class=" col-md-6 pl-md-1" formGroupName="pacient">
                                <div class=" form-group has-label" [ngClass]="{
                                    'has-danger':
                                    !consultationForm.controls.pacient.get('email').valid && (consultationForm.controls.pacient.get('email').touched || scheduled)
                                }">
                                    <label for="exampleInputEmail1"> Email address </label>
                                    <input class=" form-control" placeholder="jorge@email.com" type="email"
                                        formControlName="email" />
                                    <label class="error"
                                        *ngIf="!consultationForm.controls.pacient.get('email').valid && (consultationForm.controls.pacient.get('email').touched || scheduled)">Please
                                        enter a valid email.</label>
                                </div>
                            </div>
                        </div>
                        <div class=" row">
                            <div class=" col-md-6 pr-md-1" formGroupName="pacient">
                                <div class=" form-group has-label" [ngClass]="{
                                    'has-danger':
                                    !consultationForm.controls.pacient.get('birthDate').valid && (consultationForm.controls.pacient.get('birthDate').touched || scheduled)
                                }">
                                    <label for="exampleInputEmail1"> Birth date </label>
                                    <input bsDatepicker class="form-control" data-datepicker-color="danger"
                                        [bsConfig]="{ isAnimated: true, containerClass: 'theme-red' }"
                                        [maxDate]="maxDate" formControlName="birthDate" id="datepicker" type="text"
                                        placeholder="05/12/1996">
                                    <label class="error"
                                        *ngIf="!consultationForm.controls.pacient.get('birthDate').valid && (consultationForm.controls.pacient.get('birthDate').touched || scheduled)">Please
                                        enter a valid birth date.</label>
                                </div>
                            </div>
                            <div class=" col-md-6 px-md-1" formGroupName="pacient">
                                <div class=" form-group has-label" [ngClass]="{
                                    'has-danger':
                                    !consultationForm.controls.pacient.get('cellphone').valid && (consultationForm.controls.pacient.get('cellphone').touched || scheduled)
                                }">
                                    <label> Cellphone </label>
                                    <input class=" form-control" placeholder="099999999" type="text"
                                        formControlName="cellphone" />
                                    <label class="error"
                                        *ngIf="!consultationForm.controls.pacient.get('cellphone').valid && (consultationForm.controls.pacient.get('cellphone').touched || scheduled)">Please
                                        enter a valid cellphone.</label>
                                </div>
                            </div>

                        </div>
                        <div class=" row">
                            <div class=" col-md-6 pr-md-1" formGroupName="duration">
                                <div class=" form-group has-label" [ngClass]="{
                                                'has-danger':
                                                !consultationForm.get('duration').valid
                                                }">
                                    <label> Duration in hours</label>
                                    <angular2-multiselect [data]="durationData" [ngModel]="selectedDuration"
                                        [ngModelOptions]="{standalone: true}" [settings]="{
                                                    singleSelection: true,
                                                    text: 'Duration',
                                                    classes: 'selectpicker btn-danger',
                                                    lazyLoading: true,
                                                    maxHeight: 100
                                                }" name="durationConsultation" (onSelect)="durationSelect($event)"
                                        (onDeSelect)="durationDeSelect()">
                                    </angular2-multiselect>
                                    <label class="error" *ngIf="!consultationForm.get('duration').valid">Please
                                        select the duration.</label>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class=" card-footer">
                        <button class=" btn btn-fill btn-danger" type="submit" (click)="scheduleConsultation()">Schedule
                            consultation</button>
                    </div>
                </div>
            </div>
            <div class=" col-md-4" *ngIf="scheduledConsultation">
                <div class=" card card-user">
                    <div class=" card-body">
                        <p class=" card-text"></p>
                        <div class=" author">
                            <div class=" block block-one"></div>
                            <div class=" block block-two"></div>
                            <div class=" block block-three"></div>
                            <div class=" block block-four"></div>
                            <a href="javascript:void(0)">
                                <h4 class=" title">Consultation with: </h4>
                            </a>
                            <p class=" description">{{scheduledConsultation.psychologist.name}}</p>
                        </div>

                        <div class=" card-description">
                            <div class=" col-md-8 pr-md-1">
                                <h5 class=" card-title">Consultation cost: </h5>
                                <p class=" card-text">${{scheduledConsultation.cost}} </p>
                            </div>
                        </div>
                        <div class=" card-description">
                            <div class=" col-md-8 pr-md-1">
                                <h5 class=" card-title">Consultation mode: </h5>
                                <p class=" card-text">{{scheduledConsultation.psychologist.consultationMode}} </p>
                            </div>
                        </div>
                        <div class=" card-description">
                            <div class=" col-md-12 pr-md-1">
                                <h5 class=" card-title">Direction: </h5>
                                <p class=" card-text">{{scheduledConsultation.psychologist.direction}} </p>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </div>
    </div>
</form>